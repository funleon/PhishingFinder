
# 系統分析計畫書：釣魚郵件來找碴 (Phishing Finder)

## 1. 專案概述

本專案旨在透過互動遊戲，提升使用者辨識釣魚郵件的能力。遊戲採用**純前端技術**開發，無需安裝與後端環境，方便部署於企業內部網路或透過單一 HTML 檔案發布。

## 2. 功能需求 (Functional Requirements)

### 2.1 核心遊戲邏輯

* **隨機出題：** 系統從 5 套預設的題庫中，隨機選取 1 套進行遊戲。
* **熱點偵測 (Hotspot Detection)：** 郵件畫面中設有 5 個特定的「疑點區域」，使用者點擊正確區域即得分。
* **即時回饋：** 點擊正確時顯示提示資訊（例如：為什麼這是疑點），點擊錯誤則不計分或給予警示。
* **計分系統：** 每個疑點 20 分，總分 100 分。

### 2.2 證書生成與下載

* **動態證書：** 遊戲結束後，根據得分與使用者名稱（選填）生成證書畫面。
* **圖片轉換：** 使用 `html2canvas` 技術將 DOM 元素轉換為圖片格式（JPG/PNG）。
* **離線下載：** 透過瀏覽器 API 直接觸發圖片下載。

---

## 3. 系統流程設計

### 遊戲流程步驟：

1. **開始畫面：** 使用者點擊「開始遊戲」。
2. **場景加載：** JavaScript 從 JSON 陣列中隨機抽選一個場景資料。
3. **互動階段：** * 使用者在模擬郵件介面中尋找可疑處。
* 系統判定點擊位置是否落在 `Hotspot` 座標內。


4. **結算畫面：** 顯示總分。
5. **證書產出：** 使用者點擊「下載證書」，儲存遊戲成果。

---

## 4. 使用者介面 (UI) 設計構想

介面將模擬常見的郵件軟體（如 Outlook 或 Gmail）版面：

| 區塊 | 說明 |
| --- | --- |
| **頂部資訊欄** | 顯示當前得分、已尋獲疑點數 (e.g., 3/5)。 |
| **郵件標頭區** | 包含寄件者 (Sender)、收件者、主旨。**（此處常有網域陷阱）** |
| **郵件內文區** | 包含稱呼、正文、按鈕或連結。**（此處常有泛稱或誘導性文字）** |
| **狀態列/提示區** | 當點擊正確時，彈出視窗解釋該點為何危險。 |
| **結算彈窗** | 覆蓋層顯示最終得分與「下載證明」按鈕。 |

---

## 5. 資料結構設計 (JSON 範例)

為了方便維護 5 套題庫，建議採用物件陣列儲存：

```javascript
const quizData = [
  {
    id: 1,
    subject: "您的帳號發生異常登入",
    sender: "security@micros0ft-support.com", // 拼寫錯誤陷阱
    content: "親愛的用戶，請點擊下方連結驗證...", // 泛稱陷阱
    clues: [
      { id: "c1", target: "sender", reason: "寄件者網域拼寫錯誤 (micros0ft)" },
      { id: "c2", target: "greeting", reason: "使用模糊的稱呼「親愛的用戶」" },
      { id: "c3", target: "link_text", reason: "網址顯示文字與實際連結不符" },
      // ...共5個
    ]
  }
];

```

---

## 6. 技術實作重點 (Technical Implementation)

### 6.1 熱點點擊偵測

建議使用 CSS `position: absolute` 配合透明的 `div` 覆蓋在郵件圖片或 HTML 上。

* **優點：** 易於開發，且能精準控制每個疑點的點擊範圍。

### 6.2 證書下載技術

由於不使用後端，我們將採用以下方案：

* **技術：** [html2canvas](https://html2canvas.hertzen.com/) 函式庫。
* **原理：** 它會讀取遊戲結算畫面的 HTML/CSS，將其繪製到 `<canvas>` 上，最後轉換為 `Base64` 圖片供使用者下載。

### 6.3 無伺服器環境優化

* 所有資源（圖片、腳本）建議打包在一個資料夾內，使用相對路徑。
* 若需單檔運行，可將 CSS 與 JS 直接內嵌於 HTML 中。

---

## 7. 後續建議與擴充

* **音效回饋：** 增加點擊正確與錯誤的音效，提升遊戲感。
* **倒數計時：** 增加壓力測試，模擬員工在繁忙中處理郵件的情況。
* **響應式設計：** 確保在手機或平板上也能正常操作。
